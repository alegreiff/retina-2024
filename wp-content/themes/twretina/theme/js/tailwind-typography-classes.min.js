(() => {
  // javascript/tailwind-typography-classes.js
  wp.domReady(() => {
    addTypographyClasses();
  });
  function addTypographyClasses() {
    const editorLoadedInterval = setInterval(function() {
      if (document.getElementsByClassName("wp-block-post-title").length && document.getElementsByClassName("wp-block-post-content").length) {
        document.getElementsByClassName("wp-block-post-title")[0].classList.add("entry-title");
        document.getElementsByClassName("wp-block-post-content")[0].classList.add(...tailwindTypographyClasses);
        [".wp-block-post-title", ".wp-block-post-content"].forEach(
          (className) => {
            mutationObserver.observe(
              document.querySelector(className),
              {
                attributes: true,
                attributeFilter: ["class"]
              }
            );
          }
        );
        clearInterval(editorLoadedInterval);
      } else if (document.getElementsByName("editor-canvas").length) {
        clearInterval(editorLoadedInterval);
      }
    }, 40);
  }
  var mutationObserver = new MutationObserver(function(mutations) {
    mutations.forEach(function(mutation) {
      const classList = mutation.target.classList;
      if (classList.contains("wp-block-post-title")) {
        if (!classList.contains("entry-title")) {
          classList.add("entry-title");
        }
      } else if (classList.contains("wp-block-post-content")) {
        if (!tailwindTypographyClasses.every(
          (className) => classList.contains(className)
        )) {
          classList.add(...tailwindTypographyClasses);
        }
      }
    });
  });
})();
